# Omada WPA2-Enterprise (802.1X) Setup

This platform is designed for **WPA2-Enterprise roaming** across multiple APs/sites with **FreeRADIUS as the single authority**.

## RADIUS server settings

In Omada Controller:

- RADIUS Auth Server:
  - IP: `<your server IP>`
  - Port: `1812`
  - Shared Secret: the `RADIUS_SHARED_SECRET` printed by the installer
- RADIUS Accounting Server:
  - IP: `<your server IP>`
  - Port: `1813`
  - Shared Secret: same as above

## Interim-Update accounting (required)

Enable RADIUS accounting and set Interim-Update interval:

- Recommended: 60 seconds

Wallet time-based plans are decremented on Interim-Update and Stop events.

## EAP method

The included FreeRADIUS config supports:

- EAP-TTLS (inner method: PAP) - recommended for lab validation
- PEAP (inner method: MSCHAPv2) - enabled; requires clients to support it

Username: user phone number in E.164 (e.g. `+15551234567`)

Password: the WiFi password generated by the platform (delivered via SMS provider; default is MockSMS which logs to DB).

## Roaming behavior

Roaming across APs is allowed **only for the same device** (same `Calling-Station-Id` / MAC).
If a different device attempts to authenticate while a session is active, it is rejected.

